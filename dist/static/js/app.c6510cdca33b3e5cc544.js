webpackJsonp([2,0],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(11),a=r(i),o=n(87),s=r(o),u=n(21),c=r(u);new a.default({el:"#app",store:c.default,render:function(e){return e(s.default)}})},21:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),a=r(i),o=n(4),s=r(o),u=n(22),c=r(u);a.default.use(s.default),t.default=new s.default.Store({modules:{movies:c.default}})},22:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(30),o=r(a),s=n(11),u=r(s),c=n(93),l=r(c),d=n(73),f=n(1),v=r(f),p=n(61),m=r(p),h=n(23);u.default.use(l.default),u.default.http.options.root="https://api.themoviedb.org/3";var _="a51e51ee4a362b9f359af871e376a999",y={nowPlaying:[],searchResults:[],currentMovie:{backdrop_path:"",poster_path:"",title:"",overview:""}},M={nowPlaying:function(e){return e.nowPlaying},searchResults:function(e){return e.searchResults},currentMovie:function(e){return e.currentMovie},director:function(e){return e.currentMovie.hasOwnProperty("credits")?e.currentMovie.credits.crew.find(function(e){return"Director"===e.job}).name:""},releaseDate:function(e){return e.currentMovie.hasOwnProperty("release_date")?(0,m.default)((0,v.default)(e.currentMovie.release_date),"MMM D, YYYY"):""},rating:function(e){return e.currentMovie.hasOwnProperty("releases")?e.currentMovie.releases.countries.find(function(e){return"US"===e.iso_3166_1}).certification:"No Rating"},trailer:function(e){if(e.currentMovie.hasOwnProperty("videos")){var t=e.currentMovie.videos.results[0];return"https://www.youtube.com/watch?v="+t.key}return"#"}},R=(i={},(0,o.default)(i,h.SET_NOW_PLAYING,function(e,t){e.nowPlaying=t}),(0,o.default)(i,h.SET_SEARCH_RESULTS,function(e,t){e.searchResults=t}),(0,o.default)(i,h.SET_CURRENT_MOVIE,function(e,t){e.currentMovie=t}),(0,o.default)(i,h.RESET_CURRENT_MOVIE,function(e){e.currentMovie={backdrop_path:"",poster_path:"",title:"",overview:""}}),i),g={fetchNowPlaying:function(e){var t=e.commit;return new d.Promise(function(e,n){u.default.http.get("movie/now_playing?api_key="+_).then(function(n){t(h.SET_NOW_PLAYING,n.data.results),e()},function(e){n()})})},fetchSearchResults:function(e,t){var n=e.commit;return new d.Promise(function(e,r){t.replace(/\s/g,"").length?u.default.http.get("search/movie?query="+escape(t)+"&api_key="+_).then(function(t){n(h.SET_SEARCH_RESULTS,t.data.results),e()},function(e){r()}):(n(h.SET_SEARCH_RESULTS,[]),e())})},setCurrentMovie:function(e,t){var n=e.commit;return new d.Promise(function(e,r){n(h.SET_CURRENT_MOVIE,t),e()})},resetCurrentMovie:function(e){var t=e.commit;return new d.Promise(function(e,n){t(h.RESET_CURRENT_MOVIE),e()})},fetchMovieById:function(e,t){var n=e.commit;return new d.Promise(function(e,r){u.default.http.get("movie/"+t+"?api_key="+_+"&append_to_response=credits,releases,videos").then(function(t){n(h.SET_CURRENT_MOVIE,t.data),e()},function(e){r()})})}};t.default={state:y,getters:M,mutations:R,actions:g}},23:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SET_NOW_PLAYING="SET_NOW_PLAYING",t.SET_CURRENT_MOVIE="SET_CURRENT_MOVIE",t.RESET_CURRENT_MOVIE="RESET_CURRENT_MOVIE",t.SET_SEARCH_RESULTS="SET_SEARCH_RESULTS"},24:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=r(i),o=n(4),s=n(89),u=r(s),c=n(88),l=r(c),d=n(81),f=r(d);t.default={name:"app",components:{NowPlaying:u.default,MovieInfo:l.default},data:function(){return{query:""}},computed:(0,o.mapGetters)(["currentMovie"]),methods:(0,a.default)({},(0,o.mapActions)(["fetchSearchResults"]),{fetchResults:(0,f.default)(function(){this.fetchSearchResults(this.query)},500)})}},25:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(27),a=r(i),o=n(5),s=r(o),u=n(4);t.default={computed:(0,s.default)({},(0,u.mapGetters)(["currentMovie","director","releaseDate","rating","trailer"]),{posterPath:function(){return""!==this.currentMovie.title?"https://image.tmdb.org/t/p/w500"+this.currentMovie.poster_path:""},backdropPath:function(){return""!==this.currentMovie.title?"https://image.tmdb.org/t/p/w1280"+this.currentMovie.backdrop_path:""},runtime:function(){var e=this.currentMovie.runtime,t=(0,a.default)(e/60),n=e%60;return t+"h "+n+"m"}}),methods:(0,u.mapActions)(["resetCurrentMovie"])}},26:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=r(i),o=n(4);t.default={name:"now-playing",computed:(0,o.mapGetters)(["nowPlaying","searchResults"]),methods:(0,a.default)({},(0,o.mapActions)(["fetchNowPlaying","setCurrentMovie","fetchMovieById"]),{setMovie:function(e){this.setCurrentMovie(e),this.fetchMovieById(e.id)}}),mounted:function(){this.fetchNowPlaying()}}},74:function(e,t){},75:function(e,t){},76:function(e,t){},87:function(e,t,n){var r,i;n(75),r=n(24);var a=n(91);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=a.render,i.staticRenderFns=a.staticRenderFns,e.exports=r},88:function(e,t,n){var r,i;n(74),r=n(25);var a=n(90);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=a.render,i.staticRenderFns=a.staticRenderFns,e.exports=r},89:function(e,t,n){var r,i;n(76),r=n(26);var a=n(92);i=r=r||{},"object"!=typeof r.default&&"function"!=typeof r.default||(i=r=r.default),"function"==typeof i&&(i=i.options),i.render=a.render,i.staticRenderFns=a.staticRenderFns,e.exports=r},90:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return t("div",{staticClass:"movie-info-container"},[t("div",{staticClass:"movie-backdrop lazyload",attrs:{"data-bg":e.backdropPath}},[t("div",{staticClass:"backdrop-inner"},[t("span",{staticClass:"close-movie-panel",on:{click:e.resetCurrentMovie}},["Ã—"])])])," ",t("div",{staticClass:"movie-heading"},[t("h3",{staticClass:"movie-title"},[e._s(e.currentMovie.title)])," ",""!=e.currentMovie.title?t("img",{staticClass:"movie-info-poster lazyload",attrs:{"data-src":e.posterPath,src:"static/images/poster-placeholder.jpg"}}):e._e()])," ",t("div",{staticClass:"movie-meta"},[t("div",{staticClass:"movie-meta-item runtime"},[e._s(e.runtime)])," ",t("div",{staticClass:"movie-meta-item rating"},["Rated "+e._s(e.rating)])," ",t("div",{staticClass:"movie-meta-item trailer"},[t("a",{attrs:{href:e.trailer,target:"_blank"}},["Watch Trailer"])])])," ",t("div",{staticClass:"movie-plot"},[t("p",[t("em",["Released "+e._s(e.releaseDate)])]),t("p",[t("em",["Directed by "+e._s(e.director)])])," ",t("p",[e._s(e.currentMovie.overview)])])])},staticRenderFns:[]}},91:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return t("div",{attrs:{id:"app"}},[t("transition",{attrs:{name:"movie"}},[t("movie-info",{directives:[{name:"show",rawName:"v-show",value:""!=e.currentMovie.title,expression:"currentMovie.title != ''"}]})])," ",t("div",{staticClass:"now-playing-container"},[t("div",{staticClass:"movie-search-container"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],attrs:{type:"text",name:"movieSearch",placeholder:"Search for a movie..."},domProps:{value:e._s(e.query)},on:{input:[function(t){t.target.composing||(e.query=t.target.value)},e.fetchResults]}})])," ",t("now-playing")])])},staticRenderFns:[]}},92:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return t("div",{staticClass:"now-playing-container"},[t("ul",{directives:[{name:"show",rawName:"v-show",value:!e.searchResults.length,expression:"!searchResults.length"}],staticClass:"now-playing-list"},[e._l(e.nowPlaying,function(n){return t("li",{staticClass:"now-playing-list-item lazyload",attrs:{"data-bg":"https://image.tmdb.org/t/p/w1280"+n.backdrop_path},on:{click:function(t){e.setMovie(n)}}},[t("div",{staticClass:"item-overlay"},[t("h3",{staticClass:"movie-title"},[e._s(n.title)])])])})])," ",t("ul",{directives:[{name:"show",rawName:"v-show",value:e.searchResults.length,expression:"searchResults.length"}],staticClass:"now-playing-list"},[e._l(e.searchResults,function(n){return t("li",{key:n.id,staticClass:"now-playing-list-item lazyload",attrs:{"data-bg":"https://image.tmdb.org/t/p/w1280"+n.backdrop_path},on:{click:function(t){e.setMovie(n)}}},[t("div",{staticClass:"item-overlay"},[t("h3",{staticClass:"movie-title"},[e._s(n.title)])])])})])])},staticRenderFns:[]}},94:function(e,t){}});
//# sourceMappingURL=app.c6510cdca33b3e5cc544.js.map